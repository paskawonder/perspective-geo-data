<html>
    <head>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
              integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
              crossorigin=""/>
    </head>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
    <style>
        html, map { height: 100%; margin: 0; }
        #map { min-height: 100% }
    </style>
    <body>
        <div id="map"></div>
        <script>
            const xhr = new XMLHttpRequest();
            xhr.open("GET", "http://localhost:8080/geo");
            xhr.send();
            xhr.responseType = "json";
            var map = L.map('map').setView([52.3676, 4.9041], 1);
            L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}{r}.png', { maxZoom: 19 }).addTo(map);
            xhr.onload = () => {
                var polygon = L.polygon(xhr.response).addTo(map);
            };
            var popup = L.popup();
            function onMapClick(e) {
                popup.setLatLng(e.latlng)
                .setContent("You clicked the map at " + e.latlng.toString())
                .openOn(map);
            }
            map.on('click', onMapClick);
        </script>
    </body>
</html>